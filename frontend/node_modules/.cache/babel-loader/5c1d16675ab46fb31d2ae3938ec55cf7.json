{"ast":null,"code":"var _jsxFileName = \"/Users/the-sherwin/Desktop/Back end/project-slingair/frontend/src/components/SeatSelect/SeatSelect.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport Plane from \"./Plane\";\nimport Form from \"./Form\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst SeatSelect = _ref => {\n  _s();\n\n  let {\n    selectedFlight,\n    setReservationId\n  } = _ref;\n  const [selectedSeat, setSelectedSeat] = useState(\"\");\n\n  const handleSubmit = (e, formData) => {\n    e.preventDefault(); // TODO: POST info to server\n\n    fetch(\"/api/add-reservation\", {\n      method: \"POST\",\n      headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({ ...formData,\n        flight: selectedFlight,\n        seat: selectedSeat\n      })\n    }).then(res => res.json()).then(data => {\n      console.log(\"formData\", formData);\n      setReservationId(data.data.id);\n      localStorage.setItem(\"reservationId\", data.data.id);\n      console.log(data.data);\n      navigate(\"/confirmation\");\n    }).catch(error => {});\n  };\n\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Select your seat and Provide your information!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(FormWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(Plane, {\n          setSelectedSeat: setSelectedSeat,\n          selectedFlight: selectedFlight\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          handleSubmit: handleSubmit,\n          selectedSeat: selectedSeat\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this)\n    }, void 0, false)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SeatSelect, \"H9kgWui/U6MJsv9VLxhXJF7clMA=\");\n\n_c = SeatSelect;\nconst FormWrapper = styled.div`\n    display: flex;\n    margin: 50px 0px;\n`;\n_c2 = FormWrapper;\nconst Wrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin-top: 50px;\n`;\n_c3 = Wrapper;\nexport default SeatSelect;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"SeatSelect\");\n$RefreshReg$(_c2, \"FormWrapper\");\n$RefreshReg$(_c3, \"Wrapper\");","map":{"version":3,"names":["useState","useEffect","styled","Plane","Form","SeatSelect","selectedFlight","setReservationId","selectedSeat","setSelectedSeat","handleSubmit","e","formData","preventDefault","fetch","method","headers","body","JSON","stringify","flight","seat","then","res","json","data","console","log","id","localStorage","setItem","navigate","catch","error","FormWrapper","div","Wrapper"],"sources":["/Users/the-sherwin/Desktop/Back end/project-slingair/frontend/src/components/SeatSelect/SeatSelect.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\n\nimport Plane from \"./Plane\";\nimport Form from \"./Form\";\n\nconst SeatSelect = ({ selectedFlight, setReservationId }) => {\n\n    const [selectedSeat, setSelectedSeat] = useState(\"\");\n\n    const handleSubmit = (e, formData) => {\n        e.preventDefault();\n        // TODO: POST info to server\n        fetch(\"/api/add-reservation\", {\n            method: \"POST\",\n            headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({...formData, flight: selectedFlight, seat:selectedSeat})\n        })\n        .then(res=>res.json()).then((data)=>{\n            console.log(\"formData\", formData)\n            setReservationId(data.data.id)\n            localStorage.setItem(\"reservationId\", data.data.id)\n            console.log(data.data)\n            navigate(\"/confirmation\");\n        })\n        .catch ((error)=>{\n      \n        })\n    }\n\n    return (\n        <Wrapper>\n            <h2>Select your seat and Provide your information!</h2>\n            <>\n                <FormWrapper>\n                    <Plane setSelectedSeat={setSelectedSeat} selectedFlight={selectedFlight} />\n                    <Form handleSubmit={handleSubmit} selectedSeat={selectedSeat} />\n                </FormWrapper>\n            </>\n        </Wrapper>\n    );\n};\n\nconst FormWrapper = styled.div`\n    display: flex;\n    margin: 50px 0px;\n`\n\nconst Wrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin-top: 50px;\n`\n\nexport default SeatSelect;\n"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,IAAP,MAAiB,QAAjB;;;;AAEA,MAAMC,UAAU,GAAG,QAA0C;EAAA;;EAAA,IAAzC;IAAEC,cAAF;IAAkBC;EAAlB,CAAyC;EAEzD,MAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCT,QAAQ,CAAC,EAAD,CAAhD;;EAEA,MAAMU,YAAY,GAAG,CAACC,CAAD,EAAIC,QAAJ,KAAiB;IAClCD,CAAC,CAACE,cAAF,GADkC,CAElC;;IACAC,KAAK,CAAC,sBAAD,EAAyB;MAC1BC,MAAM,EAAE,MADkB;MAE1BC,OAAO,EAAE;QACT,UAAU,kBADD;QAET,gBAAgB;MAFP,CAFiB;MAM1BC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,EAAC,GAAGP,QAAJ;QAAcQ,MAAM,EAAEd,cAAtB;QAAsCe,IAAI,EAACb;MAA3C,CAAf;IANoB,CAAzB,CAAL,CAQCc,IARD,CAQMC,GAAG,IAAEA,GAAG,CAACC,IAAJ,EARX,EAQuBF,IARvB,CAQ6BG,IAAD,IAAQ;MAChCC,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBf,QAAxB;MACAL,gBAAgB,CAACkB,IAAI,CAACA,IAAL,CAAUG,EAAX,CAAhB;MACAC,YAAY,CAACC,OAAb,CAAqB,eAArB,EAAsCL,IAAI,CAACA,IAAL,CAAUG,EAAhD;MACAF,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACA,IAAjB;MACAM,QAAQ,CAAC,eAAD,CAAR;IACH,CAdD,EAeCC,KAfD,CAeSC,KAAD,IAAS,CAEhB,CAjBD;EAkBH,CArBD;;EAuBA,oBACI,QAAC,OAAD;IAAA,wBACI;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI;MAAA,uBACI,QAAC,WAAD;QAAA,wBACI,QAAC,KAAD;UAAO,eAAe,EAAExB,eAAxB;UAAyC,cAAc,EAAEH;QAAzD;UAAA;UAAA;UAAA;QAAA,QADJ,eAEI,QAAC,IAAD;UAAM,YAAY,EAAEI,YAApB;UAAkC,YAAY,EAAEF;QAAhD;UAAA;UAAA;UAAA;QAAA,QAFJ;MAAA;QAAA;QAAA;QAAA;MAAA;IADJ,iBAFJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAWH,CAtCD;;GAAMH,U;;KAAAA,U;AAwCN,MAAM6B,WAAW,GAAGhC,MAAM,CAACiC,GAAI;AAC/B;AACA;AACA,CAHA;MAAMD,W;AAKN,MAAME,OAAO,GAAGlC,MAAM,CAACiC,GAAI;AAC3B;AACA;AACA;AACA;AACA,CALA;MAAMC,O;AAON,eAAe/B,UAAf"},"metadata":{},"sourceType":"module"}